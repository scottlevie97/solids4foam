/*--------------------------------*- C++ -*----------------------------------*\
| =========                 |                                                 |
| \\      /  F ield         | foam-extend: Open Source CFD                    |
|  \\    /   O peration     | Version:     3.2                                |
|   \\  /    A nd           | Web:         http://www.foam-extend.org         |
|    \\/     M anipulation  | For copyright notice see file Copyright         |
\*---------------------------------------------------------------------------*/
FoamFile
{
    version     2.0;
    format      ascii;
    class       dictionary;
    location    "constant";
    object      solidProperties;
}
// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //

// linearGeometry: assumes small strains and rotations
solidModel     linearGeometryTotalDisplacementML;
//solidModel     unsLinearGeometry;

"linearGeometryTotalDisplacementMLCoeffs|linearGeometryTotalDisplacementMLCoeffs|unsLinearGeometryCoeffs"
{
    // Write  residual file
    residualFile yes;

    // Predict displacement
    machineLearning yes;

    // Write time for each iteration
    iterationTimeFile yes;

    // Predictions
    noPredictions 1;

	predictionResiduals
	(
		0.14
	);

    jsonFiles
    (
        "../../machine_learning/ML_model/fdeep_model_1.json"
    ) ;
    
	iterationToApplyMachineLearningPredictor 20; 

    kerasScalingMeans
    (
		(-2.039034783705114e-07		-3.270057088518365e-07		-1.6706966918773787e-05)
		(-2.1256508790772264e-07		-3.389938438057011e-07		-1.8199854320579933e-05)
		(-2.1987995592328966e-07		-3.5001151296422417e-07		-1.9607416451772536e-05)
		(-2.259992878110629e-07		-3.600555732226689e-07		-2.094013072463075e-05)
		(-2.3101268288552638e-07		-3.692992000658001e-07		-2.2205592220917104e-05)
		(-2.3515020742007405e-07		-3.777062421807735e-07		-2.340997563446252e-05)
		(-2.384096617037889e-07		-3.8549800873906995e-07		-2.4558203623980864e-05)
		(-2.410987864152275e-07		-3.924575977127535e-07		-2.565569738427795e-05)
		(-2.429929347230788e-07		-3.9904919442105394e-07		-2.670880119301953e-05)
		(-2.4454286538854625e-07		-4.0468994344390727e-07		-2.771814318519577e-05)
		(-2.4561238294040536e-07		-4.0988810363278615e-07		-2.8687209089894e-05)
		(-2.463435776343334e-07		-4.145672016301878e-07		-2.9619052214337877e-05)
		(-2.46755691786359e-07		-4.188283053616864e-07		-3.0516258223555688e-05)
		(-2.4691398410307626e-07		-4.226763044102833e-07		-3.138121000432852e-05)
		(-2.468496743115277e-07		-4.2615893030537034e-07		-3.221602519208932e-05)
		(-2.466018522888936e-07		-4.292998359533173e-07		-3.3022645230854934e-05)
		(-2.461979965228566e-07		-4.32131234624439e-07		-3.380282656178615e-05)
		(-2.456651055078027e-07		-4.346775334131253e-07		-3.455817691007547e-05)
		(-2.450250594109448e-07		-4.369635403549243e-07		-3.529016339371363e-05)
		(-2.4429759079655574e-07		-4.390105402344222e-07		-3.6003557969735764e-05)
		(-2.0385566098869662e-07		-4.150439900982464e-07		-7.369737711836295e-05)
    );

    kerasScalingStds
    (
		(9.705864710071748e-07		8.543568701548966e-07		7.126493906732362e-06)
		(1.1340309371296436e-06		9.885895229935934e-07		7.853106478604448e-06)
		(1.293882563163699e-06		1.1209959379664863e-06		8.556867712678002e-06)
		(1.4502968563154517e-06		1.2512722925800315e-06		9.242761067150958e-06)
		(1.6036715262779088e-06		1.379664356295702e-06		9.911083329566399e-06)
		(1.754098504937427e-06		1.5064199913583583e-06		1.056153689307039e-05)
		(1.901485740288668e-06		1.631687028389162e-06		1.1194866401055253e-05)
		(2.0458545691348472e-06		1.755510660357935e-06		1.1811751732145158e-05)
		(2.1871746363536603e-06		1.8779385633992995e-06		1.2413028278729047e-05)
		(2.3257260292719225e-06		1.999031511108844e-06		1.2999811791679524e-05)
		(2.4614762878150677e-06		2.1187707883061104e-06		1.3572784956856386e-05)
		(2.594485038666365e-06		2.237141367035313e-06		1.4132535817380053e-05)
		(2.7248077962502047e-06		2.354163487562844e-06		1.4679665928931432e-05)
		(2.8525169420312996e-06		2.4698498176599816e-06		1.5214687575852925e-05)
		(2.977681060895442e-06		2.584215994146344e-06		1.5738100452404594e-05)
		(3.1003699975339894e-06		2.6972741702172242e-06		1.6250353693805362e-05)
		(3.2206507926759176e-06		2.8090361390190888e-06		1.675187477697403e-05)
		(3.3385888683117293e-06		2.919512175958807e-06		1.724305961184298e-05)
		(3.454247316176327e-06		3.028711893191259e-06		1.772428222747228e-05)
		(3.5676872535246717e-06		3.1366441054066986e-06		1.819590435161465e-05)
		(1.0444147998426413e-05		1.0916778315149296e-05		4.7915390112349615e-05)
    );


    // Maximum number of momentum correctors
    nCorrectors     100000;

    // Solution tolerance for displacement
    solutionTolerance 1e-10;

    // Alternative solution tolerance for displacement
    alternativeTolerance 1e-10;

    // Material law solution tolerance
    materialTolerance 1e-05;

    // Write frequency for the residuals
    infoFrequency   100;
}


// ************************************************************************* //
