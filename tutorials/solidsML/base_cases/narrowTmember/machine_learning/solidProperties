/*--------------------------------*- C++ -*----------------------------------*\
| =========                 |                                                 |
| \\      /  F ield         | foam-extend: Open Source CFD                    |
|  \\    /   O peration     | Version:     3.2                                |
|   \\  /    A nd           | Web:         http://www.foam-extend.org         |
|    \\/     M anipulation  | For copyright notice see file Copyright         |
\*---------------------------------------------------------------------------*/
FoamFile
{
    version     2.0;
    format      ascii;
    class       dictionary;
    location    "constant";
    object      solidProperties;
}
// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //

solidModel     linearGeometryTotalDisplacementML;

"linearGeometryTotalDisplacementMLCoeffs|unsLinearGeometryCoeffs"
{
    // Write  residual file
    residualFile yes;

    // Predict displacement
    machineLearning yes;

    // Write time for each iteration
    iterationTimeFile yes;

    jsonFile "../../machine_learning/ML_model/fdeep_model.json";

	iterationToApplyMachineLearningPredictor 20; 

    kerasScalingMeans
    (
		(0.0		-4.071069990043609e-07		0.0)
		(2.8588377135170704e-08		-6.541236894528058e-07		-5.6360373702918574e-09)
		(1.4821271994735048e-08		-8.735977048994738e-07		-4.972839112136176e-09)
		(1.956036758733427e-08		-1.042709082065393e-06		-7.635661112263612e-09)
		(9.008312441231048e-09		-1.2085528995104205e-06		-7.116075470815168e-09)
		(8.643941866351169e-09		-1.3540207934033592e-06		-8.706184801484891e-09)
		(-2.3121114580721572e-09		-1.4978239423264312e-06		-8.401589670653149e-09)
		(-3.5199644416564844e-09		-1.6289826487667414e-06		-9.549814196632104e-09)
		(-1.4630341007921841e-08		-1.759509035496772e-06		-9.463784766789698e-09)
		(-1.588918158801288e-08		-1.8794267610240747e-06		-1.0465669084349221e-08)
		(-2.6685376585220908e-08		-1.9999570430731905e-06		-1.0424925334208178e-08)
		(-2.7978408093231687e-08		-2.1107248124431488e-06		-1.1311755492360976e-08)
		(-3.8133542975611194e-08		-2.222480961968668e-06		-1.1310400654649474e-08)
		(-3.943668333087805e-08		-2.3255661315223194e-06		-1.2090337564728378e-08)
		(-4.8960159704467e-08		-2.4296603608053255e-06		-1.2173307040013869e-08)
		(-5.025925878919352e-08		-2.5257775261041156e-06		-1.2849226055320773e-08)
		(-5.924054365622214e-08		-2.622908122952348e-06		-1.296472527471557e-08)
		(-6.050507750351126e-08		-2.712714327393627e-06		-1.3578558976946237e-08)
		(-6.896378416450443e-08		-2.8035260464661372e-06		-1.3708715583070244e-08)
		(-7.018664401271195e-08		-2.8876027030049914e-06		-1.4275352653554838e-08)
		(-2.326256480689697e-07		-5.72419065117421e-06		-2.6336024623111366e-08)
    );

    kerasScalingStds
    (
		(1.0		1.2236476800573142e-07		1.0)
		(1.3817663538117902e-08		1.6703966020992412e-07		6.74119517107966e-09)
		(1.5481503429709518e-08		2.217945593555423e-07		5.4233834008528544e-09)
		(2.648703338346452e-08		2.481490146669248e-07		8.407055462391671e-09)
		(3.3991232417004515e-08		2.847085582600296e-07		7.676218047527141e-09)
		(4.432544664917774e-08		3.082871560502474e-07		9.334933379916757e-09)
		(5.32239883732023e-08		3.3754234261583066e-07		9.04238060069887e-09)
		(6.280418746597086e-08		3.599559796950564e-07		1.0211396012741374e-08)
		(7.195391640627911e-08		3.860181519109336e-07		1.0175897912116006e-08)
		(8.067123942748173e-08		4.068654278943649e-07		1.1196840407557602e-08)
		(8.97503022677015e-08		4.306037862163867e-07		1.1268283301275858e-08)
		(9.782779138196146e-08		4.5016720167904193e-07		1.2206284081243772e-08)
		(1.0654132054447642e-07		4.721389027746391e-07		1.234006629429598e-08)
		(1.1409240815059985e-07		4.90666446292163e-07		1.3197254471868379e-08)
		(1.2238857034143213e-07		5.113284643160153e-07		1.338519385132707e-08)
		(1.294934920294131e-07		5.288092558956553e-07		1.4173344429668144e-08)
		(1.3739090277458977e-07		5.481667614113441e-07		1.4394006983854368e-08)
		(1.4407531624425125e-07		5.646667207011438e-07		1.512466780245603e-08)
		(1.5157685187367584e-07		5.828290240280171e-07		1.5365332599875856e-08)
		(1.578702833441481e-07		5.984215039115812e-07		1.6046832880260148e-08)
		(3.9277629420613426e-07		1.1672202008980208e-06		3.340175126415821e-08)
    );


    // Maximum number of momentum correctors
    nCorrectors     10000;

    // Solution tolerance for displacement
    solutionTolerance 1e-10;

    // Alternative solution tolerance for displacement
    alternativeTolerance 1e-10;

    // Material law solution tolerance
    materialTolerance 1e-05;

    // Write frequency for the residuals
    infoFrequency   10;
}


// ************************************************************************* //
