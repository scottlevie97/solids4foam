/*--------------------------------*- C++ -*----------------------------------*\
| =========                 |                                                 |
| \\      /  F ield         | foam-extend: Open Source CFD                    |
|  \\    /   O peration     | Version:     3.2                                |
|   \\  /    A nd           | Web:         http://www.foam-extend.org         |
|    \\/     M anipulation  | For copyright notice see file Copyright         |
\*---------------------------------------------------------------------------*/
FoamFile
{
    version     2.0;
    format      ascii;
    class       dictionary;
    location    "constant";
    object      solidProperties;
}
// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //

// linearGeometry: assumes small strains and rotations
// solidModel       coupledUnsLinearGeometryLinearElastic;
//solidModel       coupledUnsLinGeometry;
solidModel     linearGeometryTotalDisplacementML;
// solidModel     unsLinearGeometry;

"linearGeometryTotalDisplacementMLCoeffs|unsLinearGeometryCoeffs"
{
    // Write  residual file
    residualFile yes;

    // Predict displacement
    machineLearning yes;

    // Write time for each iteration
    iterationTimeFile yes;

    jsonFile "../../machine_learning/ML_model/fdeep_model.json";

	iterationToApplyMachineLearningPredictor 20; 

    kerasScalingMeans
    (
		(2.985698475261959e-07		0.0		0.0)
		(3.9630983268391474e-07		-7.254158003003274e-08		0.0)
		(4.5629607864027055e-07		-1.1705900202024922e-07		0.0)
		(4.936656483009899e-07		-1.457899000751692e-07		0.0)
		(5.177758319934282e-07		-1.646784243573418e-07		0.0)
		(5.335782097899145e-07		-1.776772818331312e-07		0.0)
		(5.444703645368515e-07		-1.8680020122061044e-07		0.0)
		(5.522439469770887e-07		-1.9353522351835188e-07		0.0)
		(5.580401892278544e-07		-1.987234183160114e-07		0.0)
		(5.625560702949316e-07		-2.02885117068603e-07		0.0)
		(5.662214454451537e-07		-2.063456965828729e-07		0.0)
		(5.693037760419121e-07		-2.0931098892020944e-07		0.0)
		(5.719713969431152e-07		-2.1191295200782916e-07		0.0)
		(5.743318572589758e-07		-2.1423763129748787e-07		0.0)
		(5.764552254415017e-07		-2.1627582482475513e-07		0.0)
		(5.7835230377711e-07		-2.1819347792806069e-07		0.0)
		(5.800783425502101e-07		-2.1996909930668203e-07		0.0)
		(5.817129217483251e-07		-2.2160588323470931e-07		0.0)
		(5.832418336781401e-07		-2.2313636062223575e-07		0.0)
		(5.846708070075843e-07		-2.245462972935988e-07		0.0)
		(0.5384581643026649		0.0		0.0)
		(0.13279827512559783		-0.09856147089984583		0.0)
		(0.0701651345619505		-0.05207145162188158		0.0)
		(0.04032255405473501		-0.031001245140864993		0.0)
		(0.024875042590327887		-0.019487733979183557		0.0)
		(0.01576450163252968		-0.012967700971158168		0.0)
		(0.010583059836975056		-0.00886403140689324		0.0)
		(0.007404319343586739		-0.0064150932034283395		0.0)
		(0.005434846237489029		-0.004864710575493158		0.0)
		(0.004179902140835787		-0.003852070784656434		0.0)
		(0.0033555430840574996		-0.0031680587061425017		0.0)
		(0.0027948125996383254		-0.0026886916006721886		0.0)
		(0.0023982159128310824		-0.0023391889299240777		0.0)
		(0.00210579833297678		-0.002073877599202237		0.0)
		(0.0018810533761771109		-0.001805598693302206		0.0)
		(0.001669917439973875		-0.0016880285336257916		0.0)
		(0.001510481068508372		-0.0015538715114892495		0.0)
		(0.001422647415061643		-0.0014245662901546192		0.0)
		(0.0013239507796388712		-0.0013253063769870193		0.0)
		(0.0012315967195934614		-0.0012151894954964657		0.0)
		(6.071718746688008e-07		-2.4708593805672125e-07		0.0)
    );

    kerasScalingStds
    (
		(1.516383397353198e-07		1.0		1.0)
		(2.0073840563453474e-07		4.537697030768399e-08		1.0)
		(2.318799355839102e-07		7.32186537243706e-08		1.0)
		(2.516762781855204e-07		9.079925567319295e-08		1.0)
		(2.646859396769155e-07		1.0196535006437633e-07		1.0)
		(2.7346754024646154e-07		1.0958573673241551e-07		1.0)
		(2.7977950014503827e-07		1.1493421697710258e-07		1.0)
		(2.845076561145178e-07		1.1895428441852675e-07		1.0)
		(2.8822826121712326e-07		1.2217319690405384e-07		1.0)
		(2.9129394502392807e-07		1.2490162894935542e-07		1.0)
		(2.9392088700277913e-07		1.2732076044684613e-07		1.0)
		(2.962421759964052e-07		1.2953536008970887e-07		1.0)
		(2.983404387909681e-07		1.3160545978120196e-07		1.0)
		(3.002676641194721e-07		1.3356512717344779e-07		1.0)
		(3.0205721517900866e-07		1.3537922531572998e-07		1.0)
		(3.0371425468837895e-07		1.371634527868827e-07		1.0)
		(3.052581823048886e-07		1.3888438069669475e-07		1.0)
		(3.0673976357588875e-07		1.4053201827293637e-07		1.0)
		(3.081464251653096e-07		1.4211544164757136e-07		1.0)
		(3.094789480135978e-07		1.4362121997303282e-07		1.0)
		(0.2734733688894029		1.0		1.0)
		(0.06829581367205538		0.06165320546715895		1.0)
		(0.037345618287914294		0.03270848793755996		1.0)
		(0.022408904686348905		0.019357295009393465		1.0)
		(0.014728399126021776		0.012440166775713322		1.0)
		(0.010464706238529214		0.008848005311851322		1.0)
		(0.008087936674074		0.006858344966723872		1.0)
		(0.006648776687028172		0.005779994220598665		1.0)
		(0.005723485311502854		0.005112286385565634		1.0)
		(0.005073839176975261		0.004638050687357899		1.0)
		(0.004579521988400248		0.004261432748766329		1.0)
		(0.004179528760490262		0.003940952304755524		1.0)
		(0.003841816176232558		0.0036579859183863916		1.0)
		(0.0035485364993417716		0.003403375629211033		1.0)
		(0.0032890291362785203		0.003165849403675315		1.0)
		(0.003054603150314516		0.0029583764730083226		1.0)
		(0.002841482013243848		0.0027662342672748895		1.0)
		(0.002652413144429483		0.0025869181187926867		1.0)
		(0.0024786230669929248		0.002422124158990273		1.0)
		(0.002318550757404323		0.0022682457008272915		1.0)
		(3.3329249687191183e-07		1.729197080317374e-07		1.0)
    );

    // Maximum number of momentum correctors
    nCorrectors     1000;

    // Solution tolerance for displacement
    solutionTolerance 1e-10;

    // Alternative solution tolerance for displacement
    alternativeTolerance 1e-10;

    // Material law solution tolerance
    materialTolerance 1e-05;

    // Write frequency for the residuals
    infoFrequency   1;
}
}


// ************************************************************************* //
