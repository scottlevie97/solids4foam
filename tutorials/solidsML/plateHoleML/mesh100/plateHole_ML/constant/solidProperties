/*--------------------------------*- C++ -*----------------------------------*\
| =========                 |                                                 |
| \\      /  F ield         | foam-extend: Open Source CFD                    |
|  \\    /   O peration     | Version:     3.2                                |
|   \\  /    A nd           | Web:         http://www.foam-extend.org         |
|    \\/     M anipulation  | For copyright notice see file Copyright         |
\*---------------------------------------------------------------------------*/
FoamFile
{
    version     2.0;
    format      ascii;
    class       dictionary;
    location    "constant";
    object      solidProperties;
}
// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //

// linearGeometry: assumes small strains and rotations
solidModel     linearGeometryTotalDisplacementML;
//solidModel     unsLinearGeometry;

"linearGeometryTotalDisplacementMLCoeffs|linearGeometryTotalDisplacementMLCoeffs|unsLinearGeometryCoeffs"
{
    // Write  residual file
    residualFile yes;

    // Predict displacement
    machineLearning yes;

    jsonFile "../../machine_learning/ML_model/fdeep_model.json";

	iterationToApplyMachineLearningPredictor 20; 

    kerasScalingMeans
    (
		(3.00099332246e-06		-1.1118964275719998e-06		0.0)
		(3.1188162829829996e-06		-1.17718388427e-06		0.0)
		(3.18257775145e-06		-1.2245037688013e-06		0.0)
		(3.22220897298e-06		-1.2548133187859998e-06		0.0)
		(3.2476449897500003e-06		-1.2746861062230001e-06		0.0)
		(3.2642780194899995e-06		-1.288273905888e-06		0.0)
		(3.27566125155e-06		-1.2977843717159997e-06		0.0)
		(3.28374653192e-06		-1.3047582544970001e-06		0.0)
		(3.28974045853e-06		-1.310101105503e-06		0.0)
		(3.2943843780099997e-06		-1.3143654705460002e-06		0.0)
		(3.29813488155e-06		-1.3178961485e-06		0.0)
		(3.3012755257400003e-06		-1.320910987744e-06		0.0)
		(3.30398462664e-06		-1.3235493154819998e-06		0.0)
		(3.30637591184e-06		-1.325901757591e-06		0.0)
		(3.30852296153e-06		-1.3279686280909999e-06		0.0)
		(3.31044269803e-06		-1.329898355832e-06		0.0)
		(3.3121859611399998e-06		-1.331688208036e-06		0.0)
		(3.3138297233800004e-06		-1.3333389136e-06		0.0)
		(3.3153692306e-06		-1.3348800902000003e-06		0.0)
		(3.3168082586500002e-06		-1.3363021035899999e-06		0.0)
		(3.3394538338800004e-06		-1.358984520864e-06		0.0)
    );

    kerasScalingStds
    (
		(2.6092089908480042e-06		1.164428890054068e-06		1.0)
		(2.6183917905773604e-06		1.1939616692642682e-06		1.0)
		(2.63496886824104e-06		1.2069990791344034e-06		1.0)
		(2.646229422544245e-06		1.2168094073493124e-06		1.0)
		(2.6541838693841876e-06		1.224181066198762e-06		1.0)
		(2.659927964282225e-06		1.2298925438831712e-06		1.0)
		(2.664355085214601e-06		1.2344229436075288e-06		1.0)
		(2.6678624203916968e-06		1.2381975809167566e-06		1.0)
		(2.670754123761537e-06		1.2414393335250822e-06		1.0)
		(2.6732172247406514e-06		1.2442973892086065e-06		1.0)
		(2.6753708878077905e-06		1.2468673315573016e-06		1.0)
		(2.6772924355476267e-06		1.2492114271095858e-06		1.0)
		(2.679031906633401e-06		1.2513713364367173e-06		1.0)
		(2.680624217261281e-06		1.2533753869964962e-06		1.0)
		(2.6820921702284514e-06		1.25520413376331e-06		1.0)
		(2.6834393292811877e-06		1.2569534667992901e-06		1.0)
		(2.684686604436827e-06		1.2585974598594637e-06		1.0)
		(2.6858721153942622e-06		1.260139360846032e-06		1.0)
		(2.6869833197969903e-06		1.2615939092199018e-06		1.0)
		(2.688025341347164e-06		1.262954320062692e-06		1.0)
		(2.7052200923198773e-06		1.2864354551994808e-06		1.0)
    );


    // Maximum number of momentum correctors
    nCorrectors     1000;

    // Solution tolerance for displacement
    solutionTolerance 1e-10;

    // Alternative solution tolerance for displacement
    alternativeTolerance 1e-10;

    // Material law solution tolerance
    materialTolerance 1e-05;

    // Write frequency for the residuals
    infoFrequency   100;
}


// ************************************************************************* //
