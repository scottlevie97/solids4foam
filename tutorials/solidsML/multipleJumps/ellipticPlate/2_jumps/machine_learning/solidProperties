/*--------------------------------*- C++ -*----------------------------------*\
| =========                 |                                                 |
| \\      /  F ield         | foam-extend: Open Source CFD                    |
|  \\    /   O peration     | Version:     3.2                                |
|   \\  /    A nd           | Web:         http://www.foam-extend.org         |
|    \\/     M anipulation  | For copyright notice see file Copyright         |
\*---------------------------------------------------------------------------*/
FoamFile
{
    version     2.0;
    format      ascii;
    class       dictionary;
    location    "constant";
    object      solidProperties;
}
// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //

// linearGeometry: assumes small strains and rotations
solidModel     linearGeometryTotalDisplacementML;
//solidModel     unsLinearGeometry;

"linearGeometryTotalDisplacementMLCoeffs|linearGeometryTotalDisplacementMLCoeffs|unsLinearGeometryCoeffs"
{
    // Write  residual file
    residualFile yes;

    // Predict displacement
    machineLearning yes;

    // Write time for each iteration
    iterationTimeFile yes;

    // Predictions
    noPredictions 2;

	predictionResiduals
	(
		1 
        0.00001
	);

    jsonFiles
    (
        "../../machine_learning/ML_model/fdeep_model_1.json"
        "../../machine_learning/ML_model/fdeep_model_2.json"
    ) ;
    
	iterationToApplyMachineLearningPredictor 20; 

    kerasScalingMeans
    (
		(-1.5742367826530686e-07		-2.7036144565358205e-07		-9.485245652730428e-06)
		(-1.7000436903632197e-07		-2.853692898313385e-07		-1.154983044800104e-05)
		(-1.8295133922780487e-07		-3.0016542287037626e-07		-1.3408804610734857e-05)
		(-1.9409949185474545e-07		-3.141078048950007e-07		-1.5117535582485448e-05)
		(-2.039034783705114e-07		-3.270057088518365e-07		-1.6706966918773787e-05)
		(-2.1256508790772264e-07		-3.389938438057011e-07		-1.8199854320579933e-05)
		(-2.1987995592328966e-07		-3.5001151296422417e-07		-1.9607416451772536e-05)
		(-2.259992878110629e-07		-3.600555732226689e-07		-2.094013072463075e-05)
		(-2.3101268288552638e-07		-3.692992000658001e-07		-2.2205592220917104e-05)
		(-2.3515020742007405e-07		-3.777062421807735e-07		-2.340997563446252e-05)
		(-2.384096617037889e-07		-3.8549800873906995e-07		-2.4558203623980864e-05)
		(-2.410987864152275e-07		-3.924575977127535e-07		-2.565569738427795e-05)
		(-2.429929347230788e-07		-3.9904919442105394e-07		-2.670880119301953e-05)
		(-2.4454286538854625e-07		-4.0468994344390727e-07		-2.771814318519577e-05)
		(-2.4561238294040536e-07		-4.0988810363278615e-07		-2.8687209089894e-05)
		(-2.463435776343334e-07		-4.145672016301878e-07		-2.9619052214337877e-05)
		(-2.46755691786359e-07		-4.188283053616864e-07		-3.0516258223555688e-05)
		(-2.4691398410307626e-07		-4.226763044102833e-07		-3.138121000432852e-05)
		(-2.468496743115277e-07		-4.2615893030537034e-07		-3.221602519208932e-05)
		(-2.466018522888936e-07		-4.292998359533173e-07		-3.3022645230854934e-05)
		(-2.0385566098869662e-07		-4.150439900982464e-07		-7.369737711836295e-05)
		(-2.0387161258044633e-07		-4.151042100577007e-07		-7.366314697154946e-05)
		(-2.0387138223196052e-07		-4.1510334073119796e-07		-7.366364117717284e-05)
		(-2.0387115520751547e-07		-4.1510248394816763e-07		-7.366412825239944e-05)
		(-2.038709314588801e-07		-4.151016395281765e-07		-7.366460830012207e-05)
		(-2.0387071093765647e-07		-4.1510080729003607e-07		-7.366508142174206e-05)
		(-2.038704935996686e-07		-4.1509998706135077e-07		-7.366554771717063e-05)
		(-2.0387027939681092e-07		-4.1509917866557815e-07		-7.36660072849347e-05)
		(-2.0387006828471667e-07		-4.1509838193335885e-07		-7.366646022206698e-05)
		(-2.0386986021830123e-07		-4.1509759669724043e-07		-7.366690662426593e-05)
		(-2.03869655154764e-07		-4.150968227914349e-07		-7.366734658578475e-05)
		(-2.0386945305000826e-07		-4.1509606005097757e-07		-7.36677801996031e-05)
		(-2.0386925386058834e-07		-4.15095308315603e-07		-7.366820755726584e-05)
		(-2.0386905754658907e-07		-4.150945674271839e-07		-7.366862874905743e-05)
		(-2.0386886406335782e-07		-4.150938372264704e-07		-7.366904386394122e-05)
		(-2.038686733739962e-07		-4.1509311756292166e-07		-7.366945298958972e-05)
		(-2.0386848543385985e-07		-4.1509240828201633e-07		-7.366985621241953e-05)
		(-2.0386830020845837e-07		-4.150917092348891e-07		-7.367025361761407e-05)
		(-2.0386811765267736e-07		-4.1509102027327606e-07		-7.367064528909049e-05)
		(-2.0386793773179675e-07		-4.150903412519858e-07		-7.367103130958819e-05)
		(-2.038677604060666e-07		-4.150896720281073e-07		-7.367141176064004e-05)
		(-2.0385566098869662e-07		-4.150439900982464e-07		-7.369737711836295e-05)
    );

    kerasScalingStds
    (
		(3.116009107798229e-07		3.2778918955164484e-07		3.864055968139991e-06)
		(4.6966341252941044e-07		4.5067987309733946e-07		4.753946960255642e-06)
		(6.362861192773138e-07		5.83067986951969e-07		5.5824126608570185e-06)
		(8.042326938675538e-07		7.187857245022951e-07		6.370373290543271e-06)
		(9.705864710071748e-07		8.543568701548966e-07		7.126493906732362e-06)
		(1.1340309371296436e-06		9.885895229935934e-07		7.853106478604448e-06)
		(1.293882563163699e-06		1.1209959379664863e-06		8.556867712678002e-06)
		(1.4502968563154517e-06		1.2512722925800315e-06		9.242761067150958e-06)
		(1.6036715262779088e-06		1.379664356295702e-06		9.911083329566399e-06)
		(1.754098504937427e-06		1.5064199913583583e-06		1.056153689307039e-05)
		(1.901485740288668e-06		1.631687028389162e-06		1.1194866401055253e-05)
		(2.0458545691348472e-06		1.755510660357935e-06		1.1811751732145158e-05)
		(2.1871746363536603e-06		1.8779385633992995e-06		1.2413028278729047e-05)
		(2.3257260292719225e-06		1.999031511108844e-06		1.2999811791679524e-05)
		(2.4614762878150677e-06		2.1187707883061104e-06		1.3572784956856386e-05)
		(2.594485038666365e-06		2.237141367035313e-06		1.4132535817380053e-05)
		(2.7248077962502047e-06		2.354163487562844e-06		1.4679665928931432e-05)
		(2.8525169420312996e-06		2.4698498176599816e-06		1.5214687575852925e-05)
		(2.977681060895442e-06		2.584215994146344e-06		1.5738100452404594e-05)
		(3.1003699975339894e-06		2.6972741702172242e-06		1.6250353693805362e-05)
		(1.0444147998426413e-05		1.0916778315149296e-05		4.7915390112349615e-05)
		(1.043770416634209e-05		1.090875055417241e-05		4.788557231080181e-05)
		(1.0437797194661099e-05		1.0908866445261927e-05		4.7886002780022044e-05)
		(1.0437888880791241e-05		1.0908980664349572e-05		4.78864270387776e-05)
		(1.0437979244105275e-05		1.0909093235561438e-05		4.7886845176709166e-05)
		(1.0438068303681612e-05		1.0909204182672599e-05		4.7887257282107996e-05)
		(1.0438156078339964e-05		1.0909313529112229e-05		4.788766344196686e-05)
		(1.0438242586607863e-05		1.0909421297971098e-05		4.7888063742124304e-05)
		(1.0438327846766362e-05		1.0909527512012204e-05		4.788845826705851e-05)
		(1.0438411876816227e-05		1.0909632193667458e-05		4.788884710013097e-05)
		(1.0438494694511211e-05		1.0909735365045228e-05		4.7889230323407036e-05)
		(1.0438576317338427e-05		1.0909837047934826e-05		4.788960801788998e-05)
		(1.0438656762539852e-05		1.0909937263808593e-05		4.78899802632755e-05)
		(1.0438736047104031e-05		1.0910036033835892e-05		4.789034713821024e-05)
		(1.0438814187778565e-05		1.0910133378870285e-05		4.7890708720171665e-05)
		(1.043889120106968e-05		1.0910229319473686e-05		4.7891065085511477e-05)
		(1.043896710323966e-05		1.0910323875908911e-05		4.78914163094914e-05)
		(1.0439041910319842e-05		1.0910417068144503e-05		4.789176246630201e-05)
		(1.0439115638109592e-05		1.0910508915862745e-05		4.7892103629022486e-05)
		(1.0439188302183282e-05		1.0910599438459986e-05		4.7892439869719724e-05)
		(1.0439259917885196e-05		1.091068865505552e-05		4.789277125940243e-05)
		(1.0444147998426413e-05		1.0916778315149296e-05		4.7915390112349615e-05)
    );


    // Maximum number of momentum correctors
    nCorrectors     100000;

    // Solution tolerance for displacement
    solutionTolerance 1e-10;

    // Alternative solution tolerance for displacement
    alternativeTolerance 1e-10;

    // Material law solution tolerance
    materialTolerance 1e-05;

    // Write frequency for the residuals
    infoFrequency   100;
}


// ************************************************************************* //
