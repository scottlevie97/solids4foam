/*--------------------------------*- C++ -*----------------------------------*\
| =========                 |                                                 |
| \\      /  F ield         | foam-extend: Open Source CFD                    |
|  \\    /   O peration     | Version:     3.2                                |
|   \\  /    A nd           | Web:         http://www.foam-extend.org         |
|    \\/     M anipulation  | For copyright notice see file Copyright         |
\*---------------------------------------------------------------------------*/
FoamFile
{
    version     2.0;
    format      ascii;
    class       dictionary;
    location    "constant";
    object      solidProperties;
}
// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //

// linearGeometry: assumes small strains and rotations
solidModel     linearGeometryTotalDisplacementML;
//solidModel     unsLinearGeometry;

"linearGeometryTotalDisplacementMLCoeffs|linearGeometryTotalDisplacementMLCoeffs|unsLinearGeometryCoeffs"
{
    // Write  residual file
    residualFile yes;

    // Predict displacement
    machineLearning yes;

    // Write time for each iteration
    iterationTimeFile yes;

    jsonFile "../../machine_learning/ML_model/fdeep_model.json";

	iterationToApplyMachineLearningPredictor 20; 

    kerasScalingMeans
    (
		(2.9856983793000003e-07		0.0		0.0)
		(3.963098617e-07		-7.2541603943e-08		0.0)
		(4.562960076e-07		-1.1705905057000002e-07		0.0)
		(4.936654259e-07		-1.4578994796999998e-07		0.0)
		(5.177755088e-07		-1.6467847637e-07		0.0)
		(5.335777839999999e-07		-1.7767732065999998e-07		0.0)
		(5.444698900000001e-07		-1.8680023954999998e-07		0.0)
		(5.522434255999999e-07		-1.9353525986999996e-07		0.0)
		(5.580396586e-07		-1.9872345248e-07		0.0)
		(5.625555421000001e-07		-2.0288514874e-07		0.0)
		(5.662208863e-07		-2.0634573638e-07		0.0)
		(5.693032542e-07		-2.0931104874e-07		0.0)
		(5.719709045999999e-07		-2.1191303285e-07		0.0)
		(5.743313989999999e-07		-2.1423773077e-07		0.0)
		(5.764548036e-07		-2.1627594206e-07		0.0)
		(5.783518821999999e-07		-2.1819364132000002e-07		0.0)
		(5.800780449999999e-07		-2.1996929288000003e-07		0.0)
		(5.817126817e-07		-2.2160609419999997e-07		0.0)
		(5.832416081e-07		-2.2313663555999997e-07		0.0)
		(5.846706165000001e-07		-2.2454660256e-07		0.0)
		(6.071734075e-07		-2.47088093292e-07		0.0)
    );

    kerasScalingStds
    (
		(1.516383327088445e-07		1.0		1.0)
		(2.0073842508176376e-07		4.537698955854576e-08		1.0)
		(2.3187987105219445e-07		7.321870268961236e-08		1.0)
		(2.516761007544216e-07		9.079932808403558e-08		1.0)
		(2.6468569698091405e-07		1.0196542772620919e-07		1.0)
		(2.7346722854826683e-07		1.095857844506554e-07		1.0)
		(2.797791385114637e-07		1.1493427342255792e-07		1.0)
		(2.845072935190452e-07		1.1895433653222048e-07		1.0)
		(2.8822789030756746e-07		1.2217324640303793e-07		1.0)
		(2.9129361108161806e-07		1.2490168358666386e-07		1.0)
		(2.939205138830615e-07		1.273208289698367e-07		1.0)
		(2.962418356314931e-07		1.295354364895791e-07		1.0)
		(2.983401270968599e-07		1.3160556049532717e-07		1.0)
		(3.002673829061701e-07		1.3356526147374623e-07		1.0)
		(3.0205694231027846e-07		1.353794033067097e-07		1.0)
		(3.037139925011311e-07		1.37163651747651e-07		1.0)
		(3.0525806362315847e-07		1.388846235686351e-07		1.0)
		(3.0673969873390155e-07		1.4053229720263661e-07		1.0)
		(3.0814635185917587e-07		1.4211576857557716e-07		1.0)
		(3.0947891183290884e-07		1.4362159357685463e-07		1.0)
		(3.3329421633293406e-07		1.7292239422225368e-07		1.0)
    );


    // Maximum number of momentum correctors
    nCorrectors     1000;

    // Solution tolerance for displacement
    solutionTolerance 1e-10;

    // Alternative solution tolerance for displacement
    alternativeTolerance 1e-10;

    // Material law solution tolerance
    materialTolerance 1e-05;

    // Write frequency for the residuals
    infoFrequency   100;
}


// ************************************************************************* //
