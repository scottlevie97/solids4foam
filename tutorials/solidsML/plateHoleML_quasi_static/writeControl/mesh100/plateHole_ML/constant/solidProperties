/*--------------------------------*- C++ -*----------------------------------*\
| =========                 |                                                 |
| \\      /  F ield         | foam-extend: Open Source CFD                    |
|  \\    /   O peration     | Version:     3.2                                |
|   \\  /    A nd           | Web:         http://www.foam-extend.org         |
|    \\/     M anipulation  | For copyright notice see file Copyright         |
\*---------------------------------------------------------------------------*/
FoamFile
{
    version     2.0;
    format      ascii;
    class       dictionary;
    location    "constant";
    object      solidProperties;
}
// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //

// linearGeometry: assumes small strains and rotations
solidModel     linearGeometryTotalDisplacementML;
//solidModel     unsLinearGeometry;

"linearGeometryTotalDisplacementMLCoeffs|linearGeometryTotalDisplacementMLCoeffs|unsLinearGeometryCoeffs"
{
    // Write  residual file
    residualFile yes;

    // Predict displacement
    machineLearning yes;

    // Write time for each iteration
    iterationTimeFile yes;

    jsonFile "../../machine_learning/ML_model/fdeep_model.json";

	iterationToApplyMachineLearningPredictor 20; 

    kerasScalingMeans
    (
		(2.985698475261959e-07		0.0		0.0)
		(3.9630983268391474e-07		-7.254158003003274e-08		0.0)
		(4.5629607864027055e-07		-1.1705900202024922e-07		0.0)
		(4.936656483009899e-07		-1.457899000751692e-07		0.0)
		(5.177758319934282e-07		-1.646784243573418e-07		0.0)
		(5.335782097899145e-07		-1.776772818331312e-07		0.0)
		(5.444703645368515e-07		-1.8680020122061044e-07		0.0)
		(5.522439469770887e-07		-1.9353522351835188e-07		0.0)
		(5.580401892278544e-07		-1.987234183160114e-07		0.0)
		(5.625560702949316e-07		-2.02885117068603e-07		0.0)
		(5.662214454451537e-07		-2.063456965828729e-07		0.0)
		(5.693037760419121e-07		-2.0931098892020944e-07		0.0)
		(5.719713969431152e-07		-2.1191295200782916e-07		0.0)
		(5.743318572589758e-07		-2.1423763129748787e-07		0.0)
		(5.764552254415017e-07		-2.1627582482475513e-07		0.0)
		(5.7835230377711e-07		-2.1819347792806069e-07		0.0)
		(5.800783425502101e-07		-2.1996909930668203e-07		0.0)
		(5.817129217483251e-07		-2.2160588323470931e-07		0.0)
		(5.832418336781401e-07		-2.2313636062223575e-07		0.0)
		(5.846708070075843e-07		-2.245462972935988e-07		0.0)
		(6.071718746688008e-07		-2.4708593805672125e-07		0.0)
    );

    kerasScalingStds
    (
		(1.516383397353198e-07		1.0		1.0)
		(2.0073840563453474e-07		4.537697030768399e-08		1.0)
		(2.318799355839102e-07		7.32186537243706e-08		1.0)
		(2.516762781855204e-07		9.079925567319295e-08		1.0)
		(2.646859396769155e-07		1.0196535006437633e-07		1.0)
		(2.7346754024646154e-07		1.0958573673241551e-07		1.0)
		(2.7977950014503827e-07		1.1493421697710258e-07		1.0)
		(2.845076561145178e-07		1.1895428441852675e-07		1.0)
		(2.8822826121712326e-07		1.2217319690405384e-07		1.0)
		(2.9129394502392807e-07		1.2490162894935542e-07		1.0)
		(2.9392088700277913e-07		1.2732076044684613e-07		1.0)
		(2.962421759964052e-07		1.2953536008970887e-07		1.0)
		(2.983404387909681e-07		1.3160545978120196e-07		1.0)
		(3.002676641194721e-07		1.3356512717344779e-07		1.0)
		(3.0205721517900866e-07		1.3537922531572998e-07		1.0)
		(3.0371425468837895e-07		1.371634527868827e-07		1.0)
		(3.052581823048886e-07		1.3888438069669475e-07		1.0)
		(3.0673976357588875e-07		1.4053201827293637e-07		1.0)
		(3.081464251653096e-07		1.4211544164757136e-07		1.0)
		(3.094789480135978e-07		1.4362121997303282e-07		1.0)
		(3.3329249687191183e-07		1.729197080317374e-07		1.0)
    );


    // Maximum number of momentum correctors
    nCorrectors     1000;

    // Solution tolerance for displacement
    solutionTolerance 1e-10;

    // Alternative solution tolerance for displacement
    alternativeTolerance 1e-10;

    // Material law solution tolerance
    materialTolerance 1e-05;

    // Write frequency for the residuals
    infoFrequency   100;
}


// ************************************************************************* //
